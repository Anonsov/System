{% extends "base.html" %}
{% load static %}

{% comment %} <link rel="stylesheet" href="{% static 'css/detail.css' %}"> {% endcomment %}
{% block submission_detail %}
    <link rel="stylesheet" href="{% static 'css/submission_detail.css' %}">
    {{ form.media }}
    {% if submission %}
    <div class="submission-detail-container">
        <h2>Submission #{{ submission.id }}</h2>
        <table class="submission-table">
            <tr>
                <th>User</th>
                <td>{{ submission.user.username }}</td>
            </tr>
            <tr>
                <th>Problem</th>
                <td>{{ submission.problem.title }}</td>
            </tr>
            <tr>
                <th>Status</th>
                <td>{{ submission.status }}</td>
            </tr>
            <tr>
                <th>Language</th>
                <td>{{ submission.language }}</td>
            </tr>
            <tr>
                <th>Submitted at</th>
                <td>{{ submission.created_at }}</td>
            </tr>
            <tr>
                <th>Score</th>
                <td>{{submission.score}}</td>
            </tr>
        </table>
        <h3>Code:</h3>
        <form>
            {{ form.code_area }}
        </form>
        <h3>Test Results:</h3>
        <table class="test-results-table">
            <tr>
                <th>Test ID</th>
                <th>Status</th>
            </tr>
            {% for test in submission.test_results|dictsort:"test" %}
            <tr>
                <td>{{ test.test }}</td>
                <td>{{ test.status }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    {% endif %}
        
{% endblock submission_detail %}
    
