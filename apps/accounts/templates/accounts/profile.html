<!-- filepath: /home/anonsina/All/System/apps/accounts/templates/accounts/profile.html -->
{% extends "base.html" %}
{% load static %}

{% block profile %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<div class="profile-container">
    <div class="profile-card">
        <!-- Left: Avatar -->
        <div class="profile-avatar">
            {% if user.profile.avatar %}
                <img src="{{ user.profile.avatar.url }}" alt="{{ user.username }}'s avatar">
            {% else %}
                <img src="{% static 'img/default_avatar.png' %}" alt="Default avatar">
            {% endif %}
            <form method="post" enctype="multipart/form-data" style="margin-top: 15px;">
                {% csrf_token %}
                {{ form.avatar }}
                <button type="submit" class="auth-btn">Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð°Ð²Ð°Ñ‚Ð°Ñ€</button>
            </form>
        </div>
        
        <!-- Right: Profile info -->
        <div class="profile-info">
            <h2>ðŸŽƒ {{ user.username }} ðŸŽƒ</h2>
            <table class="profile-table">
                <tr>
                    <th>Email:</th>
                    <td>{{ user.email }}</td>
                </tr>
                <tr>
                    <th>Score:</th>
                    <td><strong style="color: #ff6b00; font-size: 1.2em;">{{ user.profile.score }}</strong></td>
                </tr>
                <tr>
                    <th>Solved:</th>
                    <td><strong style="color: #00ff00; font-size: 1.2em;">{{ user.profile.solved_count }}</strong></td>
                </tr>
                <tr>
                    <th>Date joined:</th>
                    <td>{{ user.date_joined|date:"M d, Y H:i" }}</td>
                </tr>
                <tr>
                    <th>Last login:</th>
                    <td>{{ user.last_login|date:"M d, Y H:i" }}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
{% endblock profile %}